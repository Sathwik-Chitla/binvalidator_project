ğŸ“š 1. Project Overview

This project builds an automated Bin Validation System for warehouse operations.
Given:

A bin image

Corresponding metadata (ASINs, names, quantities, dimensions)

The system performs:

Object Detection â€“ Identify all items in the bin using YOLOv8.

Object Cropping â€“ Extract each detected item.

ASIN Classification â€“ Predict which product (ASIN) each crop belongs to.

Quantity Validation â€“ Compare predicted ASIN counts with metadata.

Mismatch Reporting â€“ Output which products match or mismatch.

This mimics real-world Amazon fulfillment center workflows.

ğŸ“ 2. Dataset Description

The dataset contains:

10,000+ bin images (bin-images/00001.jpg, â€¦)

10,000+ metadata JSON files

Each JSON has:

{
  "BIN_FCSKU_DATA": {
    "ASIN_1": { item attributes },
    "ASIN_2": { item attributes }
  },
  "EXPECTED_QUANTITY": 19
}


Attributes include:

product name

height, length, width, weight

quantity per ASIN

per-bin expected quantity

ğŸ§¹ 3. Data Preprocessing Pipeline
âœ” 3.1 Metadata Parsing

Flatten nested JSON:

one row per (image_id, ASIN)

extract dimensions, weight, quantity

handle missing values with median imputation

A cleaned metadata file is created:

clean_metadata_flat.csv

âœ” 3.2 Train / Validation Split

Performed bin-wise, not row-wise:

80% â†’ training

20% â†’ validation

This ensures ASIN items from the same bin do not leak into validation.

âœ” 3.3 YOLO Dataset Preparation

Since the dataset provides no bounding boxes, we automatically generate them by:

Running pretrained YOLOv8 to find object boxes

Label every object as class 0 (object)

YOLO dataset structure:

yolo_dataset/
 â”œâ”€â”€ images/
 â”‚    â”œâ”€â”€ train/
 â”‚    â””â”€â”€ val/
 â””â”€â”€ labels/
      â”œâ”€â”€ train/
      â””â”€â”€ val/

âœ” 3.4 Crop Extraction

Use YOLO boxes to extract item crops:

saved in crops/train/ and crops/val/

filenames follow convention:
asinLabel_uuid.jpg

âœ” 3.5 Label Encoding

Convert ASINs â†’ integer class IDs for classifier training:

asin â†’ asin_label


Encoder stored as:

asin_label_encoder.pkl

ğŸ¤– 4. Model Architectures
ğŸŸ¡ 4.1 YOLOv8 Detector (Object Detection)

Model: yolov8n.pt (nano version for CPU)

Task: detect all objects in the bin

Output: bounding boxes â†’ used for cropping items

Training command:

model = YOLO("yolov8n.pt")
model.train(data="yolo_dataset.yaml", epochs=20, batch=4, device="cpu")


YOLO YAML:

train: yolo_dataset/images/train
val: yolo_dataset/images/val

nc: 1
names: ["object"]

ğŸ”µ 4.2 ASIN Classifier (Image Classification)

Architecture: ResNet50

Input: item crops (224Ã—224)

Output: predicted ASIN label

Loss: CrossEntropy

Optimizer: Adam

Training loop:

for epoch in range(10):
    ...


Saved model:

asin_classifier.pth

ğŸ§ª 5. Inference Pipeline

For a new bin image:

Step 1 â€” Detect items

YOLO produces bounding boxes â†’ (x1, y1, x2, y2)

Step 2 â€” Crop items

Extract each object image region.

Step 3 â€” Recognize ASINs

Pass each crop to classifier:

pred = classifier(image_crop).argmax()
asin = label_encoder.inverse_transform([pred])[0]

Step 4 â€” Count predictions

Example:

{"B01ABC123": 3, "B02XYZ789": 1}

Step 5 â€” Compare against metadata

Generate:

MATCH

MISMATCH

MISSING ITEMS

EXTRA ITEMS

ğŸ“Š 6. EDA Summary

Key insights:

~600 missing weights, ~44 missing dimensions (fixed using median).

Multiple ASINs present per bin.

Distribution of quantities is skewed (most bins have 1â€“5 items).

Dimensions and weight have weak correlation.

Some ASINs are far more frequent.

Visualizations included:

quantity distribution

ASIN frequency

dimension histograms

correlation heatmap

image samples

ğŸ§± 7. Project Structure
binvalidator_project/
â”‚
â”œâ”€â”€ bin-images/
â”œâ”€â”€ metadata/
â”œâ”€â”€ crops/
â”‚   â”œâ”€â”€ train/
â”‚   â”œâ”€â”€ val/
â”‚
â”œâ”€â”€ yolo_dataset/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ labels/
â”‚
â”œâ”€â”€ asin_classifier.pth
â”œâ”€â”€ asin_label_encoder.pkl
â”œâ”€â”€ yolo_dataset.yaml
â”œâ”€â”€ clean_metadata_flat.csv
â”‚
â”œâ”€â”€ train_yolo.py
â”œâ”€â”€ train_classifier.py
â”œâ”€â”€ inference.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
